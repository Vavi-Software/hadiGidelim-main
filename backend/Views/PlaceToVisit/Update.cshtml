@model Backend.Models.ViewModels.PlaceToVisit.EditPlaceToVisitViewModel

@{
    ViewData["Title"] = "Düzenle";
    Layout = "_Layout";
}

<div class="px-4 py-0 text-center m-0">
    <img class="d-block mx-auto mb-4" src="~/images/vavilogo.png" alt="" width="360" height="240">
    <h1 class="display-5 fw-bold text-body-emphasis">Gezilecek Yeri Düzenle</h1>
</div>

<div class="container col-xxl-9 px-1 py-0">
    <div class="row align-items-center g-lg-5 py-5">
        <div class="col-lg-10 mx-auto col-lg-5 pt-5 border rounded-3 bg-body-tertiary position-relative">
            <form method="post" asp-action="Update" asp-controller="PlaceToVisit" enctype="multipart/form-data">
                <div class="d-flex flex-row mb-4">
                    <div class="form-floating w-50 me-5">
                        <input asp-for="Name" type="text" class="form-control" placeholder="">
                        <label asp-for="Name">Ad</label>
                        <span asp-validation-for="Name" class="text-danger"></span>
                    </div>
                    <div class="form-group w-50">
                        <label asp-for="Category">Kategori</label>
                        <select asp-for="Category" class="form-control">
                            <option selected>Müze</option>
                            <option>Parklar Ve Tesisler</option>
                            <option>Göletler</option>
                            <option>Yapılar</option>
                            <option>Tarihi Eserler</option>
                            <option>Diğer</option>
                        </select>
                        <span asp-validation-for="Category" class="text-danger"></span>
                    </div>
                </div>
                <div class="d-flex flex-row mb-4">
                    <div class="form-group w-50 me-5">
                        <label asp-for="City">Şehir</label>
                        <select asp-for="City" class="form-control">
                            <option selected>Ankara</option>
                        </select>
                        <span asp-validation-for="City" class="text-danger"></span>
                    </div>
                    <div class="form-group w-50">
                        <label asp-for="State">İlçe</label>
                        <select asp-for="State" class="form-control">
                            <option selected>Altındağ</option>
                            <option>Altındağ</option>
                            <option>Ayaş</option>
                            <option>Bala</option>
                            <option>Beypazarı</option>
                            <option>Çamlıdere</option>
                            <option>Çankaya</option>
                            <option>Çubuk</option>
                            <option>Elmadağ</option>
                            <option>Etimesgut</option>
                            <option>Evren</option>
                            <option>Gölbaşı</option>
                            <option>Güdül</option>
                            <option>Haymana</option>
                            <option>Kalecik</option>
                            <option>Kahramankazan</option>
                            <option>Kızılcahamam</option>
                            <option>Mamak</option>
                            <option>Nallıhan</option>
                            <option>Polatlı</option>
                            <option>Pursaklar</option>
                            <option>Sincan</option>
                            <option>Şereflikoçhisar</option>
                            <option>Yenimahalle</option>
                        </select>
                        <span asp-validation-for="State" class="text-danger"></span>
                    </div>
                </div>
                <div class="mb-4">
                    <div class="form-floating">
                        <input asp-for="Address" type="text" class="form-control" placeholder="">
                        <label asp-for="Address">Adres</label>
                        <span asp-validation-for="Address" class="text-danger"></span>
                    </div>
                </div>
                <div class="mb-4">
                    <div class="form-floating">
                        <textarea asp-for="Content" class="form-control" placeholder=""></textarea>
                        <label asp-for="Content"></label>
                        <span asp-validation-for="Content" class="text-danger"></span>
                    </div>
                </div>
                <div class="mb-4 d-flex flex-row justify-content-center">
                    <div class="form-group">
                        <label asp-for="Images">Fotoğraf Yükle</label>
                        <input asp-for="Images" type="file" class="form-control" placeholder="" multiple accept=".jpg,.jpeg,.png">
                        <span asp-validation-for="Images" class="text-danger"></span>
                    </div>
                </div>
                <div class="position-absolute top-100 start-50 translate-middle pt-4 h-25 col-md-10">
                    <button class="w-100 btn btn-lg btn-primary" type="submit">Kaydet</button>
                </div>
            </form>
            @if (Model.ImagesURL.Count > 0)
            {
            <div class="mb-1 d-flex flex-row justify-content-center">
                <div id="carouselExampleIndicators" class="carousel slide col-10 col-sm-8 col-lg-6" data-bs-ride="carousel">
                    <div class="carousel-indicators">
                        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                        @for (int i = 1; i < Model.ImagesURL.Count; i++)
                        {
                        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="@i" aria-label="Slide @(i + 1)"></button>
                        }
                    </div>
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img src="~/images/@Model.ImagesURL[0]" class="d-block mx-lg-auto img-fluid rounded-3" loading="lazy" alt="">
                            <div class="carousel-caption mb-2">
                                <form method="post" asp-action="DeleteImage" asp-controller="PlaceToVisit" asp-route-id="@Model.Id" asp-route-imageUrl="@Url.Content(Model.ImagesURL[0])">
                                    <input type="hidden" name="imageUrl" value="@Url.Content(Model.ImagesURL[0])"/>
                                    <input type="hidden" name="id" value="@Model.Id"/>
                                    <button type="submit" class="btn btn-outline-light">Fotoğrafı Sil</button>
                                </form>
                            </div>
                        </div>

                        @for (int i = 1; i < Model.ImagesURL.Count; i++)
                        {
                        <div class="carousel-item">
                            <img src="~/images/@Model.ImagesURL[i]" class="d-block mx-lg-auto img-fluid rounded-3" loading="lazy" alt="">
                            <div class="carousel-caption mb-2">
                                <form method="post" asp-action="DeleteImage" asp-controller="PlaceToVisit" asp-route-id="@Model.Id" asp-route-imageUrl="@Url.Content(Model.ImagesURL[i])">
                                    <input type="hidden" name="imageUrl" value="@Url.Content(Model.ImagesURL[i])"/>
                                    <input type="hidden" name="id" value="@Model.Id"/>
                                    <button type="submit" class="btn btn-outline-light">Fotoğrafı Sil</button>
                                </form>
                            </div>
                        </div>
                        }
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                </div>
            </div>
            }
            else
            {
                <div>
                    <p class="text-center">Henüz fotoğraf yüklenmemiş.</p>
                </div>
            }
            <div class="my-5 pt-5 col-md-10 h-25 mx-auto"></div>
        </div>
    </div>
</div>